"use strict";angular.module("handCoolerApp",["ngCookies","ngResource","ngSanitize","ngRoute","mgcrea.ngStrap","angularytics","ngSocial"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/search/:query/",{templateUrl:"views/search.html",controller:"GemsCtrl"}).when("/search/:query/:page",{templateUrl:"views/search.html",controller:"GemsCtrl"}).when("/gems/:gemName",{templateUrl:"views/gem_detail.html",controller:"GemDetailCtrl"}).otherwise({redirectTo:"/"})}]).controller("HeaderCtrl",["$scope","$location",function(a,b){a.doSearch=function(a){b.path("/search/"+a)}}]).config(["AngularyticsProvider",function(a){a.setEventHandlers(["Console","GoogleUniversal"])}]).run(["Angularytics",function(a){a.init()}]),angular.module("handCoolerApp").controller("MainCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("handCoolerApp").controller("GemsCtrl",["$scope","$http","$routeParams",function(a,b,c){a.pageCount=c.page||1,a.query=c.query,a.doSearch=function(){var c="http://cornflower.herokuapp.com/rubygems.org/api/v1/search.json?query="+a.query+"&page="+a.pageCount;b.get(c).success(function(b){a.gems=b})},a.doSearch()}]),angular.module("handCoolerApp").controller("GemDetailCtrl",["$scope","$http","$routeParams",function(a,b,c){a.gemName=c.gemName,a.detectRepos=function(a){return a.source_code_uri&&"github.com"===URI(a.source_code_uri).hostname()?a.source_code_uri:a.homepage_uri&&"github.com"===URI(a.homepage_uri).hostname()?a.homepage_uri:!1},a.fetchReadme=function(c){var d=URI(c),e="http://cornflower.herokuapp.com/readme/github.com/"+d.segment(0)+"/"+d.segment(1);b.get(e).success(function(b){a.readme=b})},a.fetchTags=function(c){var d=URI(c),e="http://cornflower.herokuapp.com/tags/github.com/"+d.segment(0)+"/"+d.segment(1)+".json";b.get(e).success(function(b){a.tags=b})};var d="http://cornflower.herokuapp.com/rubygems.org/api/v1/gems/"+c.gemName+".json";b.get(d).success(function(b){a.detail=b,a.sourceUrl=a.detectRepos(b),a.fetchReadme(a.sourceUrl),a.fetchTags(a.sourceUrl)})}]);